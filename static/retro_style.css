/* --- ОСНОВНЫЕ НАСТРОЙКИ --- */
:root {
    --phosphor-primary: #33ff33;    /* Зеленый */
    --phosphor-dim: #1a801a;
    --phosphor-glow: #aaffaa;
    
    /* ЦВЕТА УГРОЗ */
    --color-red: #ff3333;
    --color-yellow: #ffff33;
    --color-dead: #666666; /* Темно-серый для Black Code */
    
    --bg-color: #050505;
    --screen-curve: 2rem;
}

body {
    background-color: #000;
    color: var(--phosphor-primary);
    font-family: 'VT323', monospace;
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

.monitor-casing {
    position: relative;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
    padding: 2vmin; 
    box-sizing: border-box;
}

.crt-screen {
    position: relative;
    width: 100%;
    height: 100%;
    background-color: var(--bg-color);
    border-radius: var(--screen-curve);
    box-shadow: inset 0 0 6rem rgba(0,0,0,0.9);
    overflow: hidden;
    text-shadow: 0 0 2px var(--phosphor-dim), 0 0 5px var(--phosphor-primary);
}

.content-layer {
    position: relative;
    z-index: 10;
    height: 100%;
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    overflow-y: auto;
    animation: textFlicker 0.1s infinite;
}

/* Скроллбар */
.content-layer::-webkit-scrollbar { width: 12px; }
.content-layer::-webkit-scrollbar-track { background: #001100; border-left: 1px solid var(--phosphor-dim); }
.content-layer::-webkit-scrollbar-thumb { background: var(--phosphor-primary); border: 1px solid #000; }

/* --- ЭФФЕКТЫ (OVERLAYS) --- */

.scanlines {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(to bottom, rgba(0,0,0,0) 50%, rgba(0,0,0,0.4) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 50;
}

.crt-overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    z-index: 60;
    background: rgba(18, 16, 16, 0.1);
    animation: flicker 0.15s infinite;
}

.screen-glass {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 70;
    pointer-events: none;
    background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.6) 90%, rgba(0,0,0,1) 100%);
    box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
}

/* --- ТРИ БЕГУЩИХ ЛУЧА (Triple Beam System) --- */
/* Общий стиль для луча */
.beam-common {
    width: 100%;
    height: 150px; /* Широкая полоса */
    position: absolute;
    left: 0;
    z-index: 55;
    pointer-events: none;
    background: linear-gradient(
        to bottom,
        rgba(51, 255, 51, 0) 0%,
        rgba(51, 255, 51, 0.1) 50%, /* Едва заметный */
        rgba(51, 255, 51, 0) 100%
    );
}

/* Луч 1: Медленный и широкий */
.scan-beam-1 {
    top: -150px;
    animation: scanMove 7s linear infinite;
}

/* Луч 2: Чуть быстрее, с задержкой */
.scan-beam-2 {
    top: -150px;
    animation: scanMove 5s linear infinite;
    animation-delay: 2s;
    background: linear-gradient(to bottom, transparent, rgba(51, 255, 51, 0.08) 50%, transparent);
}

/* Луч 3: Самый быстрый "глитч" луч */
.scan-beam-3 {
    top: -150px;
    animation: scanMove 11s linear infinite; /* Простое число для рассинхрона */
    animation-delay: 4.5s;
    background: linear-gradient(to bottom, transparent, rgba(51, 255, 51, 0.05) 50%, transparent);
}


/* --- ИНТЕРФЕЙС --- */
.header-box {
    border-bottom: 2px solid var(--phosphor-primary);
    padding-bottom: 10px; margin-bottom: 20px; text-align: center;
}
h1 { margin: 0; font-size: 3em; letter-spacing: 5px; text-transform: uppercase; }
.blink { animation: blinker 1s step-end infinite; }
.status-log {
    border: 1px dashed var(--phosphor-dim); padding: 10px; margin-bottom: 20px;
    background: rgba(0, 20, 0, 0.5); font-size: 1.1em;
}
.buttons-container { display: flex; gap: 20px; justify-content: center; margin-bottom: 30px; }
button {
    background: #000; color: var(--phosphor-primary);
    border: 2px solid var(--phosphor-primary); padding: 10px 30px;
    font-family: 'VT323'; font-size: 1.5em; cursor: pointer; transition: all 0.2s;
    box-shadow: 0 0 10px var(--phosphor-dim);
}
button:hover { background: var(--phosphor-primary); color: #000; box-shadow: 0 0 20px var(--phosphor-primary); }

/* --- ТАБЛИЦА И ПОЛНАЯ ОКРАСКА СТРОК (RESTORED COLORING) --- */
.data-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
.data-table th { text-align: left; border-bottom: 2px solid var(--phosphor-primary); padding: 5px; color: var(--phosphor-glow); }
.data-table td { padding: 5px; border-bottom: 1px dotted var(--phosphor-dim); transition: color 0.3s; }

/* Здесь магия: применяем цвет ко ВСЕМ ячейкам (td) внутри строки (tr) с определенным классом.
   !important гарантирует, что зеленый цвет body будет перекрыт.
*/

/* YELLOW (Caution) */
tr.row-yellow td {
    color: var(--color-yellow) !important;
    text-shadow: 0 0 4px var(--color-yellow) !important;
}

/* RED (Critical) */
tr.row-red td {
    color: var(--color-red) !important;
    text-shadow: 0 0 5px var(--color-red), 0 0 10px #880000 !important;
    font-weight: bold;
}

/* BLACK (Dead/Mortal) */
tr.row-black td {
    color: var(--color-dead) !important;
    text-shadow: none !important;
    background: rgba(30, 30, 30, 0.3); /* Легкий фон для черного кода */
}

/* GREEN (Default) - явно указывать не обязательно, но для чистоты */
tr.row-green td {
    color: var(--phosphor-primary) !important;
}


/* --- МОДАЛКА --- */
.modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; display: flex; justify-content: center; align-items: center; }
.hidden { display: none !important; }
.modal-content { background: #001100; border: 2px solid var(--phosphor-primary); padding: 20px; width: 500px; box-shadow: 0 0 30px rgba(51,255,51,0.3); }
input, select { background: black; color: var(--phosphor-primary); border: 1px solid var(--phosphor-primary); width: 100%; padding: 10px; font-family: 'VT323'; font-size: 1.2em; margin-bottom: 15px; }

/* --- КАРТОЧКИ --- */
.cards-container { display: flex; gap: 10px; justify-content: space-between; margin-top: 15px; }
.card { flex: 1; border: 1px solid #333; padding: 10px; text-align: center; cursor: pointer; transition: 0.2s; opacity: 0.7; }
.card:hover { opacity: 1; transform: scale(1.05); }
.card.green { color: var(--phosphor-primary); border-color: var(--phosphor-primary); }
.card.yellow { color: var(--color-yellow); border-color: var(--color-yellow); }
.card.red { color: var(--color-red); border-color: var(--color-red); }
.card.black { color: #888; border-color: #888; }


/* --- АНИМАЦИИ --- */
@keyframes scanMove {
    0% { top: -20%; opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { top: 110%; opacity: 0; }
}

@keyframes flicker {
    0% { opacity: 0.97; } 50% { opacity: 0.95; } 100% { opacity: 0.97; }
}

@keyframes textFlicker {
    0% { opacity: 1; }
    50% { opacity: 0.9; transform: translateX(0.3px); }
    52% { opacity: 0.8; transform: translateX(-0.3px); }
    100% { opacity: 1; }
}

@keyframes blinker { 50% { opacity: 0; } }