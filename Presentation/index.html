<!DOCTYPE html>
<html lang="ka">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AESCULAPIUS: PROTOCOL Ω</title>
    <link rel="stylesheet" href="css/retro.css">
</head>

<body>

    <div class="crt-container">
        <div id="crt-canvas-container">
            <canvas id="crt-canvas"></canvas>
        </div>

        <div class="screen">

            <!-- INTRO -->
            <section class="slide title-slide active" data-id="1">
                <h1>AESCULAPIUS</h1>
                <h3>PROTOCOL Ω (OMEGA)</h3>
                <div class="intro-text">
                    <p>შესავალი სიტყვა:</p>
                    <p>წინამდებარე ნაშრომი წარმოადგენს საუნივერსიტეტო პროექტის - "AESCULAPIUS: PROTOCOL Ω "-ის ტექნიკურ
                        და კონცეპტუალურ
                        დოკუმენტაციას, რომელიც შემუშავდა „მონაცემთა ბაზების“ სასწავლო კურსის ფარგლებში.
                        ნაშრომის მიზანია არა მხოლოდ პროგრამული უზრუნველყოფის მშრალი აღწერა,
                        არამედ იმ შემოქმედებითი და ტექნოლოგიური გზის დემონსტრირება. უპირველეს ყოვლისა,
                        გვსურს გამოვხატოთ ღრმა მადლიერება ლექტორ ვალერი ტაკაშვილის მიმართ, რომელმაც სასწავლო პროცესში
                        მოგვანიჭა
                        სრული შემოქმედებითი თავისუფლება. სწორედ ამ ნდობამ მოგვცა შესაძლებლობა, არ შევზღუდულიყავით
                        სტანდარტული,
                        შაბლონური გადაწყვეტილებებით და სემესტრის განმავლობაში მიღებული ცოდნის პრაქტიკული რეალიზაციისთვის
                        აგვერჩია ჩვენთვის ორგანული,
                        თუმცა გამოწვევებით სავსე თემატიკა. ეს თავისუფლება გახდა ფუნდამენტი იმისა, რომ ტექნიკური დავალება
                        გარდაქმნილიყო ცოცხალ, „სუნთქვად“ ციფრულ ორგანიზმად,
                        სადაც კოდის თითოეული სტრიქონი კონკრეტულ ემოციურ და ფუნქციურ დატვირთვას ატარებს.
                    </p>
                    <!-- <p>ნაშრომის მიზანია არა მხოლოდ პროგრამული უზრუნველყოფის მშრალი აღწერა, არამედ იმ შემოქმედებითი და
                        ტექნოლოგიური გზის დემონსტრირება.</p>
                    <p>უპირველეს ყოვლისა, მსურს გამოვხატო ღრმა მადლიერება ლექტორ <strong>ვალერი ტაკაშვილი</strong>
                        მიმართ, რომელმაც სასწავლო პროცესში მოგვანიჭა სრული შემოქმედებითი თავისუფლება.</p> -->
                </div>
                <p class="blink" style="margin-top: 2rem;">[ PRESS SPACE TO INITIALIZE ]</p>
            </section>

            <!-- PRELUDE -->
            <section class="slide content-slide" data-id="2">
                <h2>იდეოლოგია და ატმოსფერო</h2>
                <div class="columns">
                    <div class="col">
                        <p>ეს პროექტი არ არის უბრალოდ კოდი. ეს არის მცდელობა, შევქმნათ "ცოცხალი", "სუნთქვადი" ციფრული
                            ორგანიზმი.</p>
                        <p>ჩვენ ავირჩიეთ <strong>Retro-Futurism</strong> და <strong>CRT Aesthetics</strong>, რათა
                            დაგვებრუნებინა ტექნოლოგიური მისტიკის განცდა.</p>
                        <p>თანამედროვე ინტერფეისები "სტერილურია". ჩვენ გვინდოდა ხმაური, დამახინჯება და ანალოგური სითბო.
                        </p>
                    </div>
                    <div class="col">
                        <div class="code-block language-plaintext">
                            > SYSTEM_CHECK...
                            > DETECTING_USER_EMOTION...
                            > LOADING_NOSTALGIA_MODULE... 100%
                            > RENDER_MODE: CATHODE_RAY_TUBE
                        </div>
                    </div>
                </div>
            </section>

            <!-- ACT 1: STYLE -->
            <section class="slide act-slide" data-id="3">
                <p>ACT_01</p>
                <h1>ვიზუალური ინჟინერია</h1>
                <h3>CRT სიმულაცია</h3>
            </section>

            <section class="slide content-slide" data-id="4">
                <h2>CRT: ტექნოლოგიური ილუზია</h2>
                <p>სტილიზაცია არ არის მხოლოდ ფილტრი. ეს არის კონტექსტი.</p>
                <div class="columns">
                    <div class="col">
                        <ul>
                            <li><strong>Barrel Distortion:</strong> ეკრანის ფიზიკური გამრუდება.</li>
                            <li><strong>Scanlines:</strong> ელექტრონული სხივის კვალი.</li>
                            <li><strong>Chromatic Aberration:</strong> ფერების დაშლა ლინზის კიდეებზე.</li>
                        </ul>
                    </div>
                    <div class="col">
                        <div class="code-block language-glsl">
                            // Fragment Shader Logic
                            vec2 curve(vec2 uv) {
                            uv = (uv - 0.5) * 2.0;
                            uv.x *= 1.0 + pow((abs(uv.y) / 3.5), 2.0); // Distortion X
                            uv.y *= 1.0 + pow((abs(uv.x) / 4.5), 2.0); // Distortion Y
                            return (uv / 2.0) + 0.5;
                            }
                        </div>
                    </div>
                </div>
            </section>

            <!-- ACT 2: DATABASE -->
            <section class="slide act-slide" data-id="5">
                <p>ACT_02</p>
                <h1>სისტემის გული</h1>
                <h3>მონაცემთა ბაზის არქიტექტურა</h3>
            </section>

            <section class="slide content-slide" data-id="6">
                <h2>SQL ARCHITECTURE: დეტერმინიზმი</h2>
                <p>ჩვენ ვიყენებთ <strong>Computed Columns</strong>-ს, რათა შევქმნათ დეტერმინისტული კავშირი დიაგნოზსა და
                    სტატუსს შორის. ეს არ არის მხოლოდ ოპტიმიზაცია; ეს არის <strong>უსაფრთხოების პროტოკოლი</strong>.</p>
                <p style="font-size: 1.1rem; margin-top: 0.5rem;">სისტემას <em>არ შეუძლია</em> დაუშვას შეცდომა:
                    პაციენტის სტატუსი (ფერი) ავტომატურად, მათემატიკური სიზუსტით გამოითვლება საფრთხის დონიდან. ადამიანური
                    ფაქტორი გამორიცხულია.</p>
                <div class="code-block language-sql">
                    CREATE TABLE Subjects (
                    SubjectID INT PRIMARY KEY IDENTITY(1,1),
                    CodeName NVARCHAR(100),
                    AssignedThreatID INT,

                    -- THE "BRAIN" OF THE TABLE
                    -- StatusColor is not stored, it is CALCULATED in real-time.
                    StatusColor AS (
                    CASE AssignedThreatID
                    WHEN 1 THEN 'Green' -- Stable
                    WHEN 2 THEN 'Yellow' -- Viral
                    WHEN 3 THEN 'Red' -- Radiation
                    WHEN 4 THEN 'Black' -- Necrotic Plague
                    <div class="columns">
                        <div class="col">
                            <ul style="font-size: 1rem;">
                                <li>Dr. Hannibal Lecter (Psychiatry)</li>
                                <li>Dr. House G. (Diagnostics)</li>
                                <li>Dr. Frankenstein (Reanimation)</li>
                                <li>AI Unit "HAL-9000" (System Admin)</li>
                            </ul>
                        </div>
                        <div class="col">
                            <div class="code-block language-sql">
                                INSERT INTO Doctors (DocName, Specialty) VALUES
                                ('Dr. Jekyll', 'Chemistry'),
                                ('Dr. Strange S.', 'Neurosurgery'),
                                ('Dr. Doom', 'Cybernetics');
                            </div>
                        </div>
                    </div>
            </section>

            <!-- ACT 3: BACKEND -->
            <section class="slide act-slide" data-id="9">
                <p>ACT_03</p>
                <h1>ალბათური განაწილება</h1>
                <h3>Backend (Python & Flask)</h3>
            </section>

            <section class="slide content-slide" data-id="10">
                <h2>CHAOS ENGINE: ალბათური განაწილება</h2>
                <p>Chaos Engine იყენებს შეწონილ ალბათობას (Weighted Randomness) პაციენტთა დიაგნოზების გენერირებისთვის:
                </p>

                <div class="columns">
                    <!-- Left Column: Table -->
                    <div class="col" style="flex: 1.5;">
                        <table class="retro-table">
                            <thead>
                                <tr>
                                    <th>დონე</th>
                                    <th>ფერი</th>
                                    <th>%</th>
                                    <th>მნიშვნელობა</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="row-green">
                                    <td>LEVEL 1</td>
                                    <td>GREEN</td>
                                    <td>50%</td>
                                    <td>სტაბილური</td>
                                </tr>
                                <tr class="row-yellow">
                                    <td>LEVEL 2</td>
                                    <td>YELLOW</td>
                                    <td>30%</td>
                                    <td>საშ.სირთ. ვირუსული ინფექცია</td>
                                </tr>
                                <tr class="row-red">
                                    <td>LEVEL 3</td>
                                    <td>RED</td>
                                    <td>15%</td>
                                    <td>რადიაციული ავადმყოფობა / ჭირი </td>
                                </tr>
                                <tr class="row-black">
                                    <td>LEVEL 4</td>
                                    <td>BLACK</td>
                                    <td>5%</td>
                                    <td>ლეტალური შედეგის მომტანი</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Right Column: Chart -->
                    <div class="col" style="flex: 1; display: flex; justify-content: center; align-items: center;">
                        <div class="chart-container">
                            <div class="pie-chart"></div>
                            <div class="chart-legend">
                                <div class="legend-item"><span class="dot"
                                        style="background: var(--phosphor-main);"></span> 50%</div>
                                <div class="legend-item"><span class="dot" style="background: var(--amber);"></span> 30%
                                </div>
                                <div class="legend-item"><span class="dot" style="background: var(--alert-red);"></span>
                                    15%</div>
                                <div class="legend-item"><span class="dot" style="background: #555;"></span> 5%</div>
                            </div>
                            <p style="margin-top: 1rem; font-size: 0.8rem; text-align: center;">
                                DISTRIBUTION_MODEL_V1.4.3
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ACT 4: FRONTEND -->
            <section class="slide act-slide" data-id="11">
                <p>ACT_04</p>
                <h1>ვიზუალიზაცია</h1>
                <h3>Frontend და "ცოცხალი" მონაცემები</h3>
            </section>

            <section class="slide content-slide" data-id="12">
                <h2>FRONTEND: მონაცემთა ნაკადი</h2>
                <p>ინტერფეისი იღებს JSON მონაცემებს და გარდაქმნის მათ ვიზუალურ სიგნალებად.</p>
                <div class="code-block language-javascript">
                    async function fetchData() {
                    const response = await fetch('/api/data');
                    const data = await response.json();

                    data.forEach(patient => {
                    const row = document.createElement('tr');
                    row.className = patient.StatusColor.toLowerCase(); // 'red', 'black'...

                    if (patient.StatusColor === 'RED') {
                    row.classList.add('blink-urgent');
                    }

                    tableBody.appendChild(row);
                    });
                    }
                </div>
            </section>

            <section class="slide title-slide" data-id="13">
                <h1>გმადლობთ</h1>
                <div class="qr-sim"></div>
                <p class="blink">SYSTEM_SHUTDOWN_IMMINENT...</p>
            </section>

            <div class="status-bar">
                <span id="slide-counter">SLIDE: 01/13</span>
                <span class="blink">CONNECTED</span>
                <span>MEM: 64KB OK</span>
            </div>
        </div>
    </div>

    <script src="js/crt-renderer.js"></script>
    <script>
        /* --- SYSTEM LOGIC (JS) --- */
        document.addEventListener('DOMContentLoaded', () => {
            let currentSlideIndex = 0;
            const slides = document.querySelectorAll('.slide');
            const counter = document.getElementById('slide-counter');
            const totalSlides = slides.length;

            // Navigation Function
            function showSlide(index) {
                slides.forEach(slide => slide.classList.remove('active'));

                // Loop wrapping
                if (index < 0) index = totalSlides - 1;
                if (index >= totalSlides) index = 0;

                currentSlideIndex = index;
                slides[currentSlideIndex].classList.add('active');

                // Update Counter
                counter.innerText = `SLIDE: ${String(currentSlideIndex + 1).padStart(2, '0')}/${totalSlides}`;
            }

            function nextSlide() {
                showSlide(currentSlideIndex + 1);
            }

            function prevSlide() {
                showSlide(currentSlideIndex - 1);
            }

            // --- CONTROLS FOR CLICKER / KEYBOARD ---
            document.addEventListener('keydown', (e) => {
                switch (e.code) {
                    case 'Space':
                    case 'ArrowRight':
                    case 'Enter':
                    case 'PageDown':
                    case 'KeyN':
                        e.preventDefault();
                        nextSlide();
                        break;
                    case 'ArrowLeft':
                    case 'Backspace':
                    case 'PageUp':
                    case 'KeyP':
                        e.preventDefault();
                        prevSlide();
                        break;
                    case 'Home':
                        showSlide(0);
                        break;
                    case 'End':
                        showSlide(totalSlides - 1);
                        break;
                }
            });

            // Mouse click for simple navigation
            document.addEventListener('click', (e) => {
                if (e.clientX > window.innerWidth / 2) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            });

            // Initialize
            showSlide(0);
        });
    </script>

</body>

</html>